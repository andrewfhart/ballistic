<div class="container">
  <div class = "navbar" ng-include="'/views/navbar.html'"></div>  
  <div class = "dashboard">
    <div class="row">
      <div class="six columns">
        <h3>Net Worth: {{statistics.netWorth | currency:user.meta.currency}} <span class = "heading-small">+$500 (12%)</span></h3>
        <canvas id="myChart"></canvas>
        <div id = "worth-legend" class = "legend"></div>
        <script>
        var data = {
    labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: [
        {
            label: "Net Worth",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [30, 34, 38, null, null, null, null]
        },
        {
            label: "Net Worth (Projected)",
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            data: [null, null, 38, 45, 60, 70, 90]
        },
        {
            label: "Assets",
            fillColor: "rgba(123,122,212,0.2)",
            strokeColor: "rgba(123,122,212,1)",
            pointColor: "rgba(123,122,212,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(123,122,212,1)",
            data: [30, 34, 38, 39, 100, 150, 160]
        },
        {
            label: "Liabilities",
            fillColor: "rgba(43,222,31,0.2)",
            strokeColor: "rgba(43,222,31,1)",
            pointColor: "rgba(43,222,31,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(43,222,31,1)",
            data: [210, 110, 90, 70, 22, 11, 1]
        },
    ]
};
          // Get context with jQuery - using jQuery's .get() method.
          var ctx = $("#myChart").get(0).getContext("2d");
          ctx.canvas.width = 461;
          ctx.canvas.height = 240;
          // This will get the first returned node in the jQuery collection.
          var myNewChart = new Chart(ctx);

          var myLineChart = new Chart(ctx).Line(data);

          $('#worth-legend').html(myLineChart.generateLegend());
        </script>
        <h3>Income &amp; Spend</h3>
        <canvas id="income"></canvas>
        <script>
        var data = {
    labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: [
        {
            label: "Income",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [30, 34, 38, 39, 40, 50, 60]
        },
        {
            label: "Spend",
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            data: [12, 33, 38, 45, 60, 70, 90]
        },
        {
            label: "Profit",
            fillColor: "rgba(84,111,231,0.2)",
            strokeColor: "rgba(84,111,231,1)",
            pointColor: "rgba(84,111,231,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(84,111,231,1)",
            data: [2, 4, 5, 3, 3, 5, 6]
        }
    ]
};
          // Get context with jQuery - using jQuery's .get() method.
          var ctx = $("#income").get(0).getContext("2d");
          // This will get the first returned node in the jQuery collection.
          ctx.canvas.width = 461;
          ctx.canvas.height = 240;
          var myNewChart = new Chart(ctx);

          var myLineChart = new Chart(ctx).Line(data);

          $('#income-legend').html(myLineChart.generateLegend());
        </script>
        <div id = "income-legend" class = "legend"></div>
      </div>
      <div class="six columns">
        <h3>Goal Progress</h3>
        <p>Your goal of {{user.meta.goal | currency:user.meta.currency}} in passive income requires an investment of approximately {{statistics.investmentGoal | currency:user.meta.currency}}. Here's how you're doing so far:</p>
        <div class = "row">
            <div class = "one-half column">
                <h6>Current Investments:</h6>
                <h5>{{statistics.totalInvestments | currency:user.meta.currency}}</h5> 
                <h6>Current Investment Income:</h6>
                <h5>{{statistics.yearlyInvestmentIncome | currency:user.meta.currency}} per year</h5> 
                <h6>Percentage of Goal:</h6>
                <h5>{{statistics.goalPercentage | number:2}} %</h5> 
            </div>
            <div class = "one-half column">
                <h6>Time Until Goal Reached:</h6> 
                <h4>{{statistics.estimatedYearsRemaining | number:2}} Years</h4>
                <p class = "small-gray">(you will be {{statistics.goalAge | number:0}} at this time)</p>
            </div>
        </div>
        <p class = "small-gray">These estimates are made with the interest rates set on your investments. They also assume that you maintain your current distribution of funds.
        <h3>Accounts</h3>
        <ul class = "account-list">
          <li ng-repeat="account in accounts | orderBy:'name'" ng-click = "changePath('account/' + account.id)">
            <h5>{{account.name}} <span class = "heading-small">{{ACCOUNT_TYPES[account.type]}}</span></h5>
            <div class="row" ng-switch="account.type">
              <div ng-switch-when="4">
                <div class = "one-half column">
                  <p><b>Balance:</b> {{account.statistics.balance | currency:user.meta.currency}}
                  <br><b>Share of Investments:</b> {{account.statistics.percentOfInvestments | number:2}} %</p>
                </div>
                <div class = "one-half column">
                  <p><b>Contributions for {{today.getFullYear()}}:</b> {{account.statistics.yearlyContributions | currency:user.meta.currency}}
                  <br><b>Withdrawals for {{today.getFullYear()}}:</b> {{account.statistics.yearlyWithdrawals | currency:user.meta.currency}}
                  <br><b>Interest for {{today.getFullYear()}}:</b> {{account.statistics.yearlyGrowth | currency:user.meta.currency}}</p>
                </div>
              </div>
            </div>
          </li>
        </ul>
        <a class="button button-primary" href = "/account/add">Add an account</a>
      </div>
    </div>
  </div>
</div>